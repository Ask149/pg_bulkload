<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en   ">

<head>
	<link rel="icon" type="image/png" href="http://pgfoundry.org/images/elephant-icon.png" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>pg_bulkload: プロジェクト ホームページ</title>
	<link rel="stylesheet" TYPE="text/css"href="style.css">
</head>

<body>
<Div Align="right"><h2><a href="http://pgbulkload.projects.postgresql.org/"> English</a></h2></Div>
<center><img style="border: none; margin-left: auto; margin-right: auto; " src="http://pgfoundry.org/images/elephantSmall.png" height="75" width="75" />
<hr />
<h1>pg_bulkload ホームページへようこそ</h1>
<hr />
</center>
<p>pg_bulkload は PostgreSQL 向けの高速データロードユーティリティです。</p> 
<p>pg_bulkload プロジェクトは NTT OSS センタから <a href="http://www.postgresql.org">PostgreSQL</a> のコミュニティへ貢献するものとして <a href="http://pgfoundry.org">pgFoundry</a> に登録されているプロジェクトの一つです。</p>
<p>pgFoundry のページはこちらです： <a href="http://pgfoundry.org/projects/pgbulkload">http://pgfoundry.org/projects/pgbulkload</a> <br>
ここで<a href="http://pgfoundry.org/frs/?group_id=1000261">ダウンロード</a>、
<a href="http://pgfoundry.org/docman/index.php?group_id=1000261&language_id=2">ドキュメント</a>の入手、バグレポート、メーリングリストの閲覧・購読などが行えます。</p>
<p>
詳細なドキュメントは
<a href="http://pgfoundry.org/docman/index.php?group_id=1000261&language_id=2">こちら</a>から入手可能です。
日本語ドキュメントは「ランゲージ」で"Japanese" を選択し、"Go"を押すと表示されます。 </p>

<p>
<a href="index.html">Here is an English page.</a>
</p>
<hr />

<h1 id="documentation">ドキュメント</h1>
<ul>
<li>
<a href="pg_bulkload-ja.html">高速データローダ: pg_bulkload ドキュメント</a>
  <ul>
    <li>一定の制約条件の下で大量のデータを高速にロードするためのプログラムです。</li>
  </ul>
</li>
<li>
<a href="pg_timestamp-ja.html">オプションツール: pg_timestamp ドキュメント</a>
  <ul>
    <li>タイムスタンプ文字列のパースのオーバヘッドをスキップするための追加モジュールです。</li>
  </ul>
</li>
</ul>

<h1 id="performance">性能測定結果</h1>

<p>
  <dl>
    <dt><h2>概要</h2></dt>
    <ul>
      <li>1GB の CSV データを COPY と pg_bulkload それぞれでロードします。</li>
      <ul>
      <li>ロード対象テーブル : 4GB のデータがすでに存在しているものとします。</li>
      <li>テーブル定義 : <a href="http://www.osdl.net/lab_activities/kernel_testing/osdl_database_test_suite/osdl_dbt-2/">DBT-2</a>(<a href="http://www.tpc.org/tpcc/">TPC-C</a>ライクなベンチマークキット)で使われる customer テーブルです。</li>
      <li>インデックス定義 : 2つのインデックスを定義しています(PK(int 1つからなるカラム), 非ユニークインデックス(int 1つからなるカラム))
      </ul>
    </ul>
  </dl>
  <dl>
    <dt><h2>結果</h2></dt>
      <ul>
        <li> (インデックス定義済みテーブルへの COPY) vs pg_bulkload </li>
          <table border="1">
          <tr align="center" bgcolor="#B0C4DE"><td>項目</td><td width="75">8.1.8</td><td width="75">8.2.3</td></tr>
          <tr align="right"><td>COPY(秒)</td><td>1601.4</td><td>1586.2</td></tr>
          <tr align="right"><td>pg_bulkload(秒)</td><td>147.7</td><td>131.8</td></tr>
          <tr align="right" bgcolor="#D8BFD8"><td>比</td><td>10.8</td><td>12.0</td></tr>
          </table>
      </ul>
      <br>
      <ul>
        <li> ((インデックス定義がないテーブルへの COPY) + CREATE INDEX) vs pg_bulkload </li>
          <table border="1">
          <tr align="center" bgcolor="#B0C4DE"><td>項目</td><td width="75">8.1.8</td><td width="75">8.2.3</td></tr>
          <tr align="right"><td>COPY(秒)</td><td>548.9</td><td>596.5</td></tr>
          <tr align="right"><td>pg_bulkload(秒)</td><td>147.7</td><td>131.8</td></tr>
          <tr align="right" bgcolor="#D8BFD8"><td>比</td><td>4.17</td><td>4.04</td></tr>
          </table>
      </ul>
      <br>
      <ul><ul>
        <li> 結果詳細 </li>
          <table border="1">
          <tr align="center" bgcolor="#B0C4DE"><td>項目</td><td width="75">8.1.8</td><td width="75">8.2.3</td></tr>
          <tr><td>pg_bulkload（インデックス定義済みテーブル）</td><td align="right">147.7</td><td align="right">131.8</td></tr>
          <tr><td>pg_bulkload (インデックスなしテーブル)</td><td align="right">72.5</td><td align="right">72.9</td></tr>
          <tr><td>COPY (インデックス定義済みテーブル)</td><td align="right">1601.4</td><td align="right">1586.2</td></tr>
          <tr><td>COPY (インデックスなしテーブル)</td><td align="right">127.7</td><td align="right">140.2</td></tr>
          <tr><td>CREATE INDEX</td><td align="right">468.8</td><td align="right">408.7</td></tr>
          </table>
      </ul></ul>
      <br>
      <ul>
      <img src="img/20070316_copy_vs_pg_bulkload-818.png">
      <img src="img/20070316_copy_vs_pg_bulkload-823.png">
      </ul>
      <ul>
        <li> 測定条件 </li>
          <table border="1">
          <tr bgcolor="#B0C4DE"><td>項目</td><td>値</td>
          <tr><td>マシン</td><td>PowerEdge1900</td>
          <tr><td>CPU</td><td>Dual Core Intel(R) Xeon(R) Processor5050 CPU3.0GHz</td>
          <tr><td>メモリ</td><td>2GB （512MB*4）</td>
          <tr><td>ディスクサイズ (OSがインストールされているディスク)</td><td>SerialATAⅡ80GB</td>
          <tr><td>ストレージサイズ (データベースクラスタが格納されているディスク)</td><td>RAID0 1.2TB</td>
          <tr><td>RAID コントローラキャッシュ</td><td>128MB</td>
          <tr><td>ハイパースレッド</td><td>ON</td>
          <tr><td>OSバージョン</td><td>RHEL ES release4 update4(32bit)</td>
          <tr><td>カーネルバージョン</td><td>2.6.9-42.ELsmp</td>
          <tr><td>libcバージョン</td><td>2.3.4</td>
          <tr><td>PostgreSQLバージョン</td><td>8.1.8/8.2.3</td>
          <tr><td>shared_buffers</td><td>1024</td>
          <tr><td>checkpoint_segments</td><td>1000</td>
          <tr><td>checkpoint_timeout</td><td>3600</td>
          <tr><td>work_mem</td><td>1024</td>
          <tr><td>maintenance_work_mem</td><td>16384</td>
          <tr><td>テーブル定義</td><td>DBT-2 customer table</td>
          <tr><td>インデックスカラム</td><td>c_id (PRIMARY KEY)</td>
          <tr><td></td><td>c_d_id (非ユニーク B-Tree)</td>
          <tr><td>制約</td><td>非NULL (全カラム)</td>
          <tr><td>既存のデータ量</td><td>16,777,216 tuples(4GB)</td>
          <tr><td>新規ロードデータ量</td><td>4,194,304 tuples(1GB)</td>
          <tr><td>入力ファイルタイプ</td><td>CSV</td>
          <tr><td>pg_bulkload バージョン</td><td>pg_bulkload-2.1.2(PG-8.1.8)/2.2.0(PG-8.2.3)</td>
          </table>
      </ul>
  </dl>
</p>

<hr />
<p class="footer">Copyright (c) 2007-2010, NIPPON TELEGRAPH AND TELEPHONE CORPORATION</p>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-10244036-1");
pageTracker._trackPageview();
} catch(err) {}</script>
</body>
</html>
